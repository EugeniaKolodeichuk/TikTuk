{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/NewsView/NewsView.js","views/default.png","views/NewsView/NewsView.module.css"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","NewsView","useState","trendingFeed","setTrendingFeed","currentPage","setCurrentPage","fetching","setFetching","useEffect","document","addEventListener","scrollHandler","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","axios","require","default","trends","method","url","headers","request","then","response","data","prevState","catch","error","console","finally","className","styles","wrap","length","map","user","list_noorder","width","controls","src","videoUrl","type","text","user_info","authorMeta","avatar","alt","nickName","shortid","generate","defaultImage","link","to","name","tags","hashtags","tag","commentCount","diggCount","Loader","module","exports"],"mappings":"yKAIe,SAASA,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,G,mFIE/E,SAASC,IACtB,MAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAsCF,mBAAS,GAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KAEAC,qBAAU,WAGR,OAFAC,SAASC,iBAAiB,SAAUC,GAE7B,WACLF,SAASG,oBAAoB,SAAUD,MAExC,IAEH,IAAMA,EAAgB,SAAAE,GAElBA,EAAEC,OAAOC,gBAAgBC,cACtBH,EAAEC,OAAOC,gBAAgBE,UAAYC,OAAOC,aAC/C,KAEAZ,GAAY,IAIVa,EAAQC,EAAQ,IAASC,QAEzBC,EAAS,CACbC,OAAQ,MACRC,IAAI,gEAAD,OAAkErB,GACrEsB,QAAS,CACP,kBAAmB,0BACnB,iBAAkB,uDAqBtB,OAjBAlB,qBAAU,WACJF,GACFc,EACGO,QAAQJ,GACRK,MAAK,SAAUC,GACd,IAAMC,EAAOD,EAASC,KACtB3B,EAAgB,GAAD,SAAKD,GAAL,EAAsB4B,KACrCzB,GAAe,SAAA0B,GAAS,OAAIA,EAAY,QAEzCC,OAAM,SAAUC,GACfC,QAAQD,MAAMA,MAEfE,SAAQ,kBAAM5B,GAAY,QAG9B,CAACD,IAGF,qBAAK8B,UAAWC,IAAOC,KAAvB,SACGpC,EAAaqC,OACZrC,EAAasC,KAAI,SAAAC,GAAI,OACnB,sBAAKL,UAAWC,IAAOK,aAAvB,UACE,uBAAOC,MAAM,QAAQC,SAAS,WAA9B,SACE,wBAAQC,IAAKJ,EAAKK,SAAUC,KAAK,iBAEnC,4BAAIN,EAAKO,OACT,sBAAKZ,UAAWC,IAAOY,UAAvB,UACGR,EAAKS,WAAWC,OACf,qBAEER,MAAM,OACNE,IAAKJ,EAAKS,WAAWC,OACrBC,IAAKX,EAAKS,WAAWG,SACrBjB,UAAWC,IAAOc,QAJbG,IAAQC,YAOf,qBACEZ,MAAM,QACNE,IAAKW,IACLJ,IAAKX,EAAKS,WAAWG,WAGzB,4BACE,cAAC,IAAD,CACEjB,UAAWC,IAAOoB,KAClBC,GAAE,mBAAcjB,EAAKS,WAAWS,MAFlC,SAIE,4BAAIlB,EAAKS,WAAWG,cALhBC,IAAQC,eASlB,qBAAKnB,UAAWC,IAAOuB,KAAvB,SACGnB,EAAKoB,UACJpB,EAAKoB,SAASrB,KAAI,SAAAsB,GAAG,OACnB,mCAA+BA,EAAIH,KAAnC,MAAQL,IAAQC,iBAGtB,2CACY,4BAAId,EAAKsB,kBAErB,wCACS,4BAAItB,EAAKuB,iBAxCsBV,IAAQC,eA6CpD,cAACU,EAAA,EAAD,Q,gCC3GO,QAA0B,qC,mBCCzCC,EAAOC,QAAU,CAAC,KAAO,uBAAuB,aAAe,+BAA+B,OAAS,yBAAyB,UAAY,4BAA4B,KAAO,uBAAuB,KAAO","file":"static/js/news-view.7b19c4e6.chunk.js","sourcesContent":["import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState, useEffect } from 'react';\r\nimport shortid from 'shortid';\r\nimport { Link } from 'react-router-dom';\r\nimport defaultImage from '../default.png';\r\nimport styles from './NewsView.module.css';\r\nimport Loader from '../../components/Loader/Loader';\r\n\r\nexport default function NewsView() {\r\n  const [trendingFeed, setTrendingFeed] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [fetching, setFetching] = useState(true);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', scrollHandler);\r\n\r\n    return function () {\r\n      document.removeEventListener('scroll', scrollHandler);\r\n    };\r\n  }, []);\r\n\r\n  const scrollHandler = e => {\r\n    if (\r\n      e.target.documentElement.scrollHeight -\r\n        (e.target.documentElement.scrollTop + window.innerHeight) <\r\n      100\r\n    ) {\r\n      setFetching(true);\r\n    }\r\n  };\r\n\r\n  const axios = require('axios').default;\r\n\r\n  const trends = {\r\n    method: 'GET',\r\n    url: `https://tiktok33.p.rapidapi.com/trending/feed/?limit=30&page=${currentPage}`,\r\n    headers: {\r\n      'x-rapidapi-host': 'tiktok33.p.rapidapi.com',\r\n      'x-rapidapi-key': 'c1257dc04cmshd888bbb072eb770p1f2b8ajsnbf16d4cd1d66',\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fetching) {\r\n      axios\r\n        .request(trends)\r\n        .then(function (response) {\r\n          const data = response.data;\r\n          setTrendingFeed([...trendingFeed, ...data]);\r\n          setCurrentPage(prevState => prevState + 1);\r\n        })\r\n        .catch(function (error) {\r\n          console.error(error);\r\n        })\r\n        .finally(() => setFetching(false));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [fetching]);\r\n\r\n  return (\r\n    <div className={styles.wrap}>\r\n      {trendingFeed.length ? (\r\n        trendingFeed.map(user => (\r\n          <div className={styles.list_noorder} key={shortid.generate()}>\r\n            <video width=\"300px\" controls=\"controls\">\r\n              <source src={user.videoUrl} type=\"video/mp4;\" />\r\n            </video>\r\n            <p>{user.text}</p>\r\n            <div className={styles.user_info}>\r\n              {user.authorMeta.avatar ? (\r\n                <img\r\n                  key={shortid.generate()}\r\n                  width=\"70px\"\r\n                  src={user.authorMeta.avatar}\r\n                  alt={user.authorMeta.nickName}\r\n                  className={styles.avatar}\r\n                />\r\n              ) : (\r\n                <img\r\n                  width=\"150px\"\r\n                  src={defaultImage}\r\n                  alt={user.authorMeta.nickName}\r\n                />\r\n              )}\r\n              <p key={shortid.generate()}>\r\n                <Link\r\n                  className={styles.link}\r\n                  to={`/profile/${user.authorMeta.name}`}\r\n                >\r\n                  <b>{user.authorMeta.nickName}</b>\r\n                </Link>\r\n              </p>\r\n            </div>\r\n            <div className={styles.tags}>\r\n              {user.hashtags &&\r\n                user.hashtags.map(tag => (\r\n                  <p key={shortid.generate()}> #{tag.name} </p>\r\n                ))}\r\n            </div>\r\n            <p>\r\n              Comments: <b>{user.commentCount}</b>\r\n            </p>\r\n            <p>\r\n              Likes: <b>{user.diggCount}</b>\r\n            </p>\r\n          </div>\r\n        ))\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/default.9d463bad.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"NewsView_wrap__3dkTZ\",\"list_noorder\":\"NewsView_list_noorder__2qmvE\",\"avatar\":\"NewsView_avatar__1JvXu\",\"user_info\":\"NewsView_user_info__1icuO\",\"tags\":\"NewsView_tags__2A1pV\",\"link\":\"NewsView_link__3WtKu\"};"],"sourceRoot":""}