{"version":3,"sources":["views/default.png","views/NewsView/NewsView.module.css","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/NewsView/NewsView.js"],"names":["module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","NewsView","useState","trendingFeed","setTrendingFeed","currentPage","setCurrentPage","fetching","setFetching","useEffect","document","addEventListener","scrollHandler","removeEventListener","e","target","documentElement","scrollHeight","scrollTop","window","innerHeight","axios","require","default","trends","method","url","headers","request","then","response","data","prevState","catch","error","console","finally","className","styles","wrap","map","user","list_noorder","width","controls","src","videoUrl","type","text","shortid","generate","user_info","authorMeta","avatar","alt","nickName","defaultImage","link","to","name","tags","hashtags","tag","commentCount","diggCount"],"mappings":"iGAAe,QAA0B,qC,mBCCzCA,EAAOC,QAAU,CAAC,KAAO,uBAAuB,aAAe,+BAA+B,OAAS,yBAAyB,UAAY,4BAA4B,KAAO,uBAAuB,KAAO,yB,uGCG9L,SAASC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMO,KAAKJ,GFIvD,CAAgBJ,IAAQ,OAAAS,EAAA,GAA2BT,IGLvE,WACb,MAAM,IAAIU,UAAU,wIHIwE,G,4EIC/E,SAASC,IACtB,MAAwCC,mBAAS,IAAjD,mBAAOC,EAAP,KAAqBC,EAArB,KACA,EAAsCF,mBAAS,GAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KAEAC,qBAAU,WAGR,OAFAC,SAASC,iBAAiB,SAAUC,GAE7B,WACLF,SAASG,oBAAoB,SAAUD,MAExC,IAEH,IAAMA,EAAgB,SAAAE,GAElBA,EAAEC,OAAOC,gBAAgBC,cACtBH,EAAEC,OAAOC,gBAAgBE,UAAYC,OAAOC,aAC/C,KAEAZ,GAAY,IAIVa,EAAQC,EAAQ,IAASC,QAEzBC,EAAS,CACbC,OAAQ,MACRC,IAAI,gEAAD,OAAkErB,GACrEsB,QAAS,CACP,kBAAmB,0BACnB,iBAAkB,uDAqBtB,OAjBAlB,qBAAU,WACJF,GACFc,EACGO,QAAQJ,GACRK,MAAK,SAAUC,GACd,IAAMC,EAAOD,EAASC,KACtB3B,EAAgB,GAAD,SAAKD,GAAL,EAAsB4B,KACrCzB,GAAe,SAAA0B,GAAS,OAAIA,EAAY,QAEzCC,OAAM,SAAUC,GACfC,QAAQD,MAAMA,MAEfE,SAAQ,kBAAM5B,GAAY,QAG9B,CAACD,IAGF,qBAAK8B,UAAWC,IAAOC,KAAvB,SACGpC,GACCA,EAAaqC,KAAI,SAAAC,GAAI,OACnB,sBAAKJ,UAAWC,IAAOI,aAAvB,UACE,uBACEC,MAAM,QACNC,SAAS,WAFX,SAKE,wBAAQC,IAAKJ,EAAKK,SAAUC,KAAK,iBAEnC,4BAA6BN,EAAKO,MAA1BC,IAAQC,YAChB,sBAAKb,UAAWC,IAAOa,UAAvB,UACGV,EAAKW,WAAWC,OACf,qBAEEV,MAAM,OACNE,IAAKJ,EAAKW,WAAWC,OACrBC,IAAKb,EAAKW,WAAWG,SACrBlB,UAAWC,IAAOe,QAJbJ,IAAQC,YAOf,qBACEP,MAAM,QACNE,IAAKW,IACLF,IAAKb,EAAKW,WAAWG,WAGzB,4BACE,cAAC,IAAD,CACElB,UAAWC,IAAOmB,KAClBC,GAAE,mBAAcjB,EAAKW,WAAWO,MAFlC,SAIE,4BAAIlB,EAAKW,WAAWG,cALhBN,IAAQC,eASlB,qBAAKb,UAAWC,IAAOsB,KAAvB,SACGnB,EAAKoB,UACJpB,EAAKoB,SAASrB,KAAI,SAAAsB,GAAG,OACnB,kCAA8BA,EAAIH,OAA1BV,IAAQC,iBAGtB,2CACY,4BAAIT,EAAKsB,kBAErB,wCACS,4BAAItB,EAAKuB,iBA5CsBf,IAAQC","file":"static/js/news-view.aec32724.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/default.9d463bad.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"NewsView_wrap__3dkTZ\",\"list_noorder\":\"NewsView_list_noorder__2qmvE\",\"avatar\":\"NewsView_avatar__1JvXu\",\"user_info\":\"NewsView_user_info__1icuO\",\"tags\":\"NewsView_tags__2A1pV\",\"link\":\"NewsView_link__3WtKu\"};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { useState, useEffect } from 'react';\r\nimport shortid from 'shortid';\r\nimport { Link } from 'react-router-dom';\r\nimport defaultImage from '../default.png';\r\nimport styles from '../NewsView/NewsView.module.css';\r\n\r\nexport default function NewsView() {\r\n  const [trendingFeed, setTrendingFeed] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [fetching, setFetching] = useState(true);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', scrollHandler);\r\n\r\n    return function () {\r\n      document.removeEventListener('scroll', scrollHandler);\r\n    };\r\n  }, []);\r\n\r\n  const scrollHandler = e => {\r\n    if (\r\n      e.target.documentElement.scrollHeight -\r\n        (e.target.documentElement.scrollTop + window.innerHeight) <\r\n      100\r\n    ) {\r\n      setFetching(true);\r\n    }\r\n  };\r\n\r\n  const axios = require('axios').default;\r\n\r\n  const trends = {\r\n    method: 'GET',\r\n    url: `https://tiktok33.p.rapidapi.com/trending/feed/?limit=15&page=${currentPage}`,\r\n    headers: {\r\n      'x-rapidapi-host': 'tiktok33.p.rapidapi.com',\r\n      'x-rapidapi-key': '98c48d70edmsh2b6af9661af19a5p11b7f7jsnbe8317f49551',\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (fetching) {\r\n      axios\r\n        .request(trends)\r\n        .then(function (response) {\r\n          const data = response.data;\r\n          setTrendingFeed([...trendingFeed, ...data]);\r\n          setCurrentPage(prevState => prevState + 1);\r\n        })\r\n        .catch(function (error) {\r\n          console.error(error);\r\n        })\r\n        .finally(() => setFetching(false));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [fetching]);\r\n\r\n  return (\r\n    <div className={styles.wrap}>\r\n      {trendingFeed &&\r\n        trendingFeed.map(user => (\r\n          <div className={styles.list_noorder} key={shortid.generate()}>\r\n            <video\r\n              width=\"300px\"\r\n              controls=\"controls\"\r\n              /* poster=\"video/duel.jpg\" */\r\n            >\r\n              <source src={user.videoUrl} type=\"video/mp4;\" />\r\n            </video>\r\n            <p key={shortid.generate()}>{user.text}</p>\r\n            <div className={styles.user_info}>\r\n              {user.authorMeta.avatar ? (\r\n                <img\r\n                  key={shortid.generate()}\r\n                  width=\"70px\"\r\n                  src={user.authorMeta.avatar}\r\n                  alt={user.authorMeta.nickName}\r\n                  className={styles.avatar}\r\n                />\r\n              ) : (\r\n                <img\r\n                  width=\"150px\"\r\n                  src={defaultImage}\r\n                  alt={user.authorMeta.nickName}\r\n                />\r\n              )}\r\n              <p key={shortid.generate()}>\r\n                <Link\r\n                  className={styles.link}\r\n                  to={`/profile/${user.authorMeta.name}`}\r\n                >\r\n                  <b>{user.authorMeta.nickName}</b>\r\n                </Link>\r\n              </p>\r\n            </div>\r\n            <div className={styles.tags}>\r\n              {user.hashtags &&\r\n                user.hashtags.map(tag => (\r\n                  <p key={shortid.generate()}>#{tag.name}</p>\r\n                ))}\r\n            </div>\r\n            <p>\r\n              Comments: <b>{user.commentCount}</b>\r\n            </p>\r\n            <p>\r\n              Likes: <b>{user.diggCount}</b>\r\n            </p>\r\n          </div>\r\n        ))}\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}